<!DOCTYPE html>
<html lang="zh-CN" class="no-js" data-page="forum">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>话题讨论 - 游戏攻略网</title>
    <meta name="description" content="加入玩家讨论：分享心得、提问卡关、交流流派与策略。">
    <link rel="stylesheet" href="styles.css?v=20251222-1">
    <link rel="icon" href="images/icons/favicon.svg" type="image/svg+xml">
    <link rel="manifest" href="manifest.webmanifest?v=20251222-1">
    <meta name="theme-color" content="#f6f1ea">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; base-uri 'self'; form-action 'self'; object-src 'none'; img-src 'self' data:; style-src 'self'; script-src 'self'; connect-src 'self'; manifest-src 'self'; worker-src 'self'; frame-ancestors 'none'">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <meta http-equiv="Permissions-Policy" content="camera=(), microphone=(), geolocation=()">
    <script src="boot.js?v=20251222-1"></script>
</head>
<body data-page="forum">
    <a class="skip-link" href="#main">跳到正文</a>

    <div id="particles-background" class="floating-particles"></div>
    <div class="overlay"></div>

    <header>
        <div class="container header-inner">
            <div class="logo-container">
                <h1>游戏攻略网</h1>
                <p>你的专业游戏指南</p>
            </div>

            <button class="mobile-nav-toggle" aria-label="切换导航菜单" aria-controls="site-nav" aria-expanded="false"><span class="nav-toggle-icon" aria-hidden="true"></span></button>

            <nav id="site-nav" aria-label="主导航">
                <ul>
                    <li><a href="index.html">首页</a></li>
                    <li><a href="rpg.html">角色扮演</a></li>
                    <li><a href="strategy.html">策略</a></li>
                    <li><a href="action.html">动作</a></li>
                    <li><a href="community.html">社区交流</a></li>
                    <li><a href="all-games.html">所有游戏</a></li>
                </ul>
            </nav>

            <div class="header-actions">
                <a class="icon-button" href="community.html" aria-label="返回社区">
                    <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
                        <path fill="currentColor" d="M12 12a4 4 0 1 0-4-4a4 4 0 0 0 4 4zm0 2c-4.42 0-8 2.01-8 4.5V21h16v-2.5c0-2.49-3.58-4.5-8-4.5z"/>
                    </svg>
                    <span class="icon-button-text">社区</span>
                </a>
                <button type="button" class="icon-button theme-toggle" data-action="theme-toggle" aria-label="切换主题">
                    <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
                        <path fill="currentColor" d="M12 18a6 6 0 1 1 0-12a6 6 0 0 1 0 12zm0-14a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0V5a1 1 0 0 1 1-1zm0 16a1 1 0 0 1 1 1v1a1 1 0 1 1-2 0v-1a1 1 0 0 1 1-1zm8-8a1 1 0 0 1-1 1h-1a1 1 0 1 1 0-2h1a1 1 0 0 1 1 1zM6 12a1 1 0 0 1-1 1H4a1 1 0 1 1 0-2h1a1 1 0 0 1 1 1z"/>
                    </svg>
                    <span class="icon-button-text">主题</span>
                </button>
            </div>
        </div>
    </header>

    <div class="page-banner forum-banner">
        <div class="banner-content">
            <div class="banner-kicker">
                <span class="badge">话题讨论</span>
                <span class="badge subtle" id="topic-meta">—</span>
                <span class="badge subtle" id="topic-count">0 条回复</span>
                <span class="badge subtle" id="topic-updated">更新：—</span>
            </div>
            <h1 id="topic-title">正在加载话题…</h1>
            <p id="topic-summary">写清楚平台、版本、流派/Build 与卡点，会让回复更精准。</p>
            <div class="topic-tags" id="topic-tags" aria-label="话题标签"></div>
            <div class="banner-buttons">
                <a href="#reply-form" class="btn">发表回复</a>
                <button id="topic-clear-local" type="button" class="btn btn-secondary">清空本地回复</button>
                <button type="button" class="btn btn-outline" data-action="copy-link" aria-label="复制当前页面链接">复制链接</button>
                <button type="button" class="btn btn-outline" id="topic-save" aria-pressed="false">收藏话题</button>
            </div>
        </div>
    </div>

    <main id="main" tabindex="-1">
        <section class="section-container">
            <div class="container">
                <div class="forum-layout">
                    <div class="forum-thread">
                        <div class="thread-toolbar">
                            <label class="sr-only" for="reply-sort">排序</label>
                            <select id="reply-sort" aria-label="回复排序">
                                <option value="latest">最新优先</option>
                                <option value="oldest">最早优先</option>
                            </select>
                        </div>
                        <div class="thread-list" id="topic-replies" aria-live="polite">
                            <div class="empty-state">
                                <p class="empty-title">还没有回复</p>
                                <p class="empty-desc">成为第一个发言的人吧。你的经验可能正好能帮到别人。</p>
                            </div>
                        </div>
                    </div>

                    <aside class="forum-aside">
                        <div class="bento-card sticky-card">
                            <h2 class="bento-title">发言模板</h2>
                            <ul class="checklist">
                                <li>平台：PC / PS5 / Xbox / Switch</li>
                                <li>进度：第几章 / 周目 / 关键节点</li>
                                <li>流派：武器 / 技能 / 装备 / 队伍</li>
                                <li>卡点：具体招式 / 任务步骤 / 触发条件</li>
                            </ul>
                        </div>
                    </aside>
                </div>

                <div class="reply-card" id="reply-form">
                    <h2>发表回复</h2>
                    <form class="reply-form" id="replyForm">
                        <div class="form-row">
                            <label>
                                <span>昵称</span>
                                <input type="text" name="author" placeholder="例如：战术大师" maxlength="24" required>
                            </label>
                            <label>
                                <span>标签（可选）</span>
                                <input type="text" name="tag" placeholder="例如：新手 / Build / Boss" maxlength="24">
                            </label>
                        </div>
                        <label>
                            <span>内容</span>
                            <textarea name="content" rows="5" placeholder="把你的经验写成可执行步骤：先做什么，再做什么，最后检查什么…" maxlength="2000" required></textarea>
                        </label>
                        <div class="form-actions">
                            <button type="submit" class="btn">发送</button>
                            <button type="reset" class="btn btn-outline">清空</button>
                        </div>
                        <p class="form-hint">提示：你的回复会保存在本地浏览器（localStorage），刷新页面不会丢失。</p>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>关于我们</h3>
                    <p>游戏攻略网致力于为广大游戏玩家提供高质量的游戏攻略和资讯。</p>
                </div>
                <div class="footer-section">
                    <h3>联系方式</h3>
                    <p>邮箱：contact@gameguides.com</p>
                    <p>微信公众号：游戏攻略网</p>
                </div>
                <div class="footer-section">
                    <h3>关注我们</h3>
                    <div class="social-icons">
                        <a href="#" class="social-icon" aria-label="微博">
                            <svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true">
                                <path fill="currentColor" d="M20.962 7.257c-.746.3-1.546.5-2.385.59.858-.515 1.514-1.33 1.82-2.302-.8.47-1.68.82-2.618 1.005C16.88 5.55 15.868 5 14.78 5c-2.12 0-3.833 1.73-3.833 3.85 0 .3.038.6.096.88-3.18-.16-6.003-1.7-7.893-4.02-.33.57-.52 1.23-.52 1.93 0 1.34.674 2.52 1.702 3.2-.63-.02-1.22-.2-1.74-.5v.05c0 1.87 1.33 3.43 3.094 3.78-.323.09-.66.14-1.01.14-.25 0-.49-.02-.73-.07.49 1.53 1.9 2.64 3.58 2.67-1.31 1.03-2.96 1.64-4.76 1.64-.31 0-.61-.02-.91-.05C5.12 19.84 7.15 20.5 9.34 20.5c6.41 0 9.91-5.31 9.91-9.92 0-.15 0-.3-.01-.45.67-.49 1.26-1.1 1.73-1.8z"/>
                            </svg>
                        </a>
                        <a href="#" class="social-icon" aria-label="B站">
                            <svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true">
                                <path fill="currentColor" d="M23.5 12c0 6.46-5.04 11.5-11.5 11.5S.5 18.46.5 12 5.54.5 12 .5 23.5 5.54 23.5 12zm-5 0c0-3.54-2.96-6.5-6.5-6.5S5.5 8.46 5.5 12s2.96 6.5 6.5 6.5 6.5-2.96 6.5-6.5zM12 9a3 3 0 100 6 3 3 0 000-6z"/>
                            </svg>
                        </a>
                        <a href="#" class="social-icon" aria-label="知乎">
                            <svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true">
                                <path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15h-2v-6h2v6zm-1-6.5c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zM17 17h-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v3h-2v-6h2v1.1c.52-.8 1.52-1.1 2-1.1 1.38 0 2 1.12 2 2.5V17z"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2025 游戏攻略网 版权所有</p>
            </div>
        </div>
    </footer>

    <button id="back-to-top" class="back-to-top" aria-label="返回顶部">↑</button>

    <script src="data.js?v=20251222-1" defer></script>
    <script src="scripts.js?v=20251222-1" defer></script>
</body>
</html>

