<!DOCTYPE html>
<html lang="zh-CN" class="no-js">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>更新中心 - 游戏攻略网</title>
    <meta name="description" content="更新中心：自动识别 NEW / UPDATED 内容，一键标记已读，保持你的攻略雷达始终干净。">
    <link rel="stylesheet" href="styles.css?v=20260113-20">
    <link rel="icon" href="images/icons/favicon.svg" type="image/svg+xml">
    <link rel="manifest" href="manifest.webmanifest?v=20260113-20">
    <link rel="search" type="application/opensearchdescription+xml" title="游戏攻略网" href="opensearch.xml">
    <link rel="alternate" type="application/atom+xml" title="更新订阅（Atom）" href="feed.xml">
    <meta name="theme-color" content="#f5f7fb">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; base-uri 'self'; form-action 'self'; object-src 'none'; img-src 'self' data:; style-src 'self'; script-src 'self'; connect-src 'self'; manifest-src 'self'; worker-src 'self'; frame-ancestors 'none'">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    <meta http-equiv="Permissions-Policy" content="camera=(), microphone=(), geolocation=()">
    <script src="boot.js?v=20260113-20"></script>
</head>
<body data-page="updates">
    <a class="skip-link" href="#main">跳到正文</a>
    <div id="particles-background" class="floating-particles"></div>
    <div class="overlay"></div>

    <header>
        <div class="container header-inner">
            <div class="logo-container">
                <h1>游戏攻略网</h1>
                <p>你的专业游戏指南</p>
            </div>
            <button class="mobile-nav-toggle" aria-label="切换导航菜单" aria-controls="site-nav" aria-expanded="false"><span class="nav-toggle-icon" aria-hidden="true"></span></button>
            <nav id="site-nav" aria-label="主导航">
                <ul>
                    <li><a href="index.html">首页</a></li>
                    <li><a href="dashboard.html">指挥舱</a></li>
                    <li><a href="planner.html">路线规划</a></li>
                    <li><a href="updates.html" class="active" aria-current="page">更新中心</a></li>
                    <li><a href="discover.html">探索</a></li>
                    <li><a href="all-games.html">所有游戏</a></li>
                    <li><a href="all-guides.html">所有攻略</a></li>
                    <li><a href="community.html">社区交流</a></li>
                </ul>
            </nav>
            <div class="header-actions">
                <button type="button" class="icon-button theme-toggle" data-action="theme-toggle" aria-label="切换主题">
                    <svg viewBox="0 0 24 24" width="18" height="18" aria-hidden="true">
                        <path fill="currentColor" d="M12 18a6 6 0 1 1 0-12a6 6 0 0 1 0 12z"/>
                    </svg>
                    <span class="icon-button-text">主题</span>
                </button>
            </div>
        </div>
    </header>

    <div class="banner banner-small">
        <div class="banner-content">
            <h1>更新中心</h1>
            <p>只关心“新内容”和“最近更新”。一键标记已读，清空你的信息噪声。</p>
        </div>
    </div>

    <main id="main" tabindex="-1">
        <section class="section-container">
            <div class="container">
                <div class="bento-grid updates-hero">
                    <article class="bento-card span-12">
                        <h2 class="bento-title">概览</h2>
                        <p class="bento-text">更新雷达会在你第一次访问时建立“已读基线”，之后新增/更新的条目会自动标记为 NEW / UPDATED。</p>
                        <div class="meta-list" id="updates-summary" aria-live="polite"></div>
                        <a class="btn btn-small btn-secondary" href="feed.xml">订阅更新（Atom）</a>
                    </article>
                </div>

                <div class="filters-bar updates-filters" aria-label="更新筛选">
                    <div class="search-box large">
                        <label class="sr-only" for="updates-search">搜索更新内容</label>
                        <input id="updates-search" type="search" placeholder="搜索：例如 Build / Boss / 开放世界…" autocomplete="off">
                        <button class="search-btn" id="updates-search-btn" type="button">搜索</button>
                    </div>
                    <div class="filters-meta">
                        <label class="sr-only" for="updates-type">类型</label>
                        <select id="updates-type" class="select-pill" aria-label="更新类型">
                            <option value="all">全部类型</option>
                            <option value="games">游戏</option>
                            <option value="guides">攻略</option>
                            <option value="topics">话题</option>
                        </select>
                        <label class="sr-only" for="updates-status">状态</label>
                        <select id="updates-status" class="select-pill" aria-label="更新状态">
                            <option value="changed">NEW + UPDATED</option>
                            <option value="new">仅 NEW</option>
                            <option value="updated">仅 UPDATED</option>
                            <option value="all">全部（含已读）</option>
                        </select>
                        <button type="button" class="btn btn-small btn-secondary" id="updates-mark-all">全部标为已读</button>
                        <span class="result-count" id="updates-count" aria-live="polite"></span>
                    </div>
                </div>

                <div class="updates-grid" id="updates-grid" aria-live="polite"></div>

                <div class="empty-state" id="updates-empty" hidden>
                    <p class="empty-title">目前没有新的更新</p>
                    <p class="empty-desc">你可以切换到“全部（含已读）”，或去“所有游戏/所有攻略”探索更多内容。</p>
                    <div class="empty-actions">
                        <button type="button" class="btn btn-small" id="updates-clear">清空筛选</button>
                        <a class="btn btn-small btn-secondary" href="all-games.html">去游戏库</a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="copyright">
                <p>&copy; 2025 游戏攻略网 版权所有</p>
            </div>
        </div>
    </footer>

    <button id="back-to-top" class="back-to-top" aria-label="返回顶部">↑</button>

    <script src="data.js?v=20260113-20" defer></script>
    <script src="scripts.js?v=20260113-20" defer></script>
</body>
</html>

